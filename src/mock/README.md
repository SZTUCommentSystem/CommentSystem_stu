# Mock数据测试指南

## 📋 概述

本系统提供了完整的Mock数据用于开发和测试，包含用户、班级、课程、作业、题目、提交记录等所有功能模块的测试数据。

## 🎭 启用/禁用Mock数据

### 自动启用
- **开发环境**: Mock数据自动启用
- **生产环境**: 需要设置环境变量 `VITE_ENABLE_MOCK=true`

### 手动控制
```typescript
import { enableMock, disableMock } from '@/mock'

// 启用Mock数据
enableMock()

// 禁用Mock数据（使用真实API）
disableMock()
```

## 👥 测试账号

系统提供了5个测试用户账号：

| 用户名 | 密码 | 姓名 | 学号 | 说明 |
|--------|------|------|------|------|
| student001 | 123456 | 张三 | 2021001 | 主要测试账号，有完整的提交记录 |
| student002 | 123456 | 李四 | 2021002 | 有部分提交记录 |
| student003 | 123456 | 王五 | 2021003 | 基础测试账号 |
| student004 | 123456 | 赵六 | 2021004 | 基础测试账号 |
| student005 | 123456 | 钱七 | 2021005 | 基础测试账号 |

## 📚 测试数据结构

### 班级信息
- **C001**: 2021级工程力学1班 (工程力学课程)
- **C002**: 2021级工程力学2班 (工程力学课程)  
- **C003**: 2021级高等数学1班 (高等数学课程)
- **C004**: 2021级线性代数1班 (线性代数课程)

### 课程信息
- **COURSE001**: 工程力学 (4学分)
- **COURSE002**: 高等数学 (6学分)
- **COURSE003**: 线性代数 (3学分)
- **COURSE004**: 计算机程序设计 (4学分)

### 作业列表
- **HW001**: 第一章 静力学基础 (截止: 2024-04-15)
- **HW002**: 第二章 动力学分析 (截止: 2024-04-20)
- **HW003**: 第三章 桁架结构分析 (截止: 2024-04-25)

### 题目类型
- **100001**: 杆件受力分析 (计算题)
- **100002**: 梁的弯曲变形计算 (计算题)
- **100003**: 动力学运动方程建立 (推导题)
- **100006**: 桁架结构内力分析 (计算题)

## 🧪 测试场景

### 1. 用户登录测试
```
用户名: student001
密码: 123456
```

### 2. 班级管理测试
- 查看已加入班级
- 通过班级ID加入新班级 (可尝试: C003, C004)

### 3. 作业列表测试
- 查看学生2021001的作业列表
- 不同截止时间的作业

### 4. 作业详情测试
- 查看作业HW001的详细信息
- 包含2道题目：杆件受力分析 + 梁的弯曲变形计算

### 5. 题目答题测试
- 使用富文本编辑器编写答案
- 上传图片附件
- 提交答案

### 6. 提交中心测试
- 查看已提交的作业记录
- 不同状态的提交：已提交、已批改
- 查看评分和批语详情

## 📊 数据关系

```
用户 (User) 1:1 学生 (Student)
学生 (Student) n:m 班级 (Class)
班级 (Class) n:1 课程 (Course)
课程 (Course) 1:n 作业 (Homework)
作业 (Homework) 1:n 题目 (Topic)
题目 (Topic) n:m 标签 (TopicLabel)
学生 (Student) + 题目 (Topic) → 提交记录 (TopicStudent)
```

## 🎯 推荐测试流程

1. **登录系统**: 使用 `student001/123456`
2. **查看班级**: 应该看到2个已加入的班级
3. **进入作业**: 点击班级卡片查看作业列表
4. **答题提交**: 选择一个作业开始答题
5. **查看记录**: 在提交中心查看提交历史
6. **测试分页**: 提交中心支持分页显示

## 🔧 开发调试

### 查看Mock数据
```javascript
// 在浏览器控制台中
console.log(window.mockData) // 查看所有Mock数据
```

### 修改测试数据
直接编辑 `src/mock/testData.ts` 文件中的数据

### 添加新的API Mock
在 `src/mock/mockInterceptor.ts` 中添加新的Mock拦截器

## 🐛 常见问题

### Q: Mock数据没有生效？
A: 检查控制台是否有 "🎭 Mock数据已启用" 的提示

### Q: 如何添加新的测试用户？
A: 在 `testData.ts` 的 `mockUsers` 数组中添加新用户

### Q: 如何模拟网络延迟？
A: 修改 `mockInterceptor.ts` 中的 `Mock.setup({ timeout: '200-600' })`

### Q: 如何在生产环境使用Mock？
A: 设置环境变量 `VITE_ENABLE_MOCK=true`

## 📝 注意事项

1. Mock数据仅在开发环境默认启用
2. 文件上传会返回模拟的图片URL
3. 所有时间都使用中国时区格式
4. 提交记录支持Markdown格式
5. 分页功能已配置为每页15条记录

---

🎉 **开始测试**: 使用 `student001/123456` 登录系统体验完整功能！ 